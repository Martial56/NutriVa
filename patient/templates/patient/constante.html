<!DOCTYPE html>
<html lang="fr">
{% load static %}
<head>
  <meta charset="UTF-8">
  <title>Créer un patient</title>
  <link rel="stylesheet" href="{% static 'patient/style.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Styles globaux */
    body {
      background: #f7f9fc;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    h2.title-page {
      font-weight: bold;
      font-size: 28px;
      color: #444;
      text-align: center;
      padding: 15px;
      margin-bottom: 20px;
      background: linear-gradient(90deg, #20c997, #0d6efd);
      color: white;
      border-radius: 10px;
    }

    .card-form {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      padding: 25px;
      margin-bottom: 25px;
    }

    .card-form h3 {
      background-color: #0d6efd;
      color: white;
      padding: 8px 15px;
      font-size: 18px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .form-control,
    .form-select {
      border-radius: 6px;
      font-size: 14px;
      padding: 10px;
    }

    .nav-tabs .nav-link {
      color: #0d6efd;
      font-weight: 500;
    }

    .nav-tabs .nav-link.active {
      background-color: #0d6efd;
      color: white;
      border-radius: 6px 6px 0 0;
    }

    .btn-primary {
      background: linear-gradient(90deg, #20c997, #0d6efd);
      border: none;
      font-weight: bold;
      padding: 10px 25px;
      border-radius: 30px;
      transition: background 0.3s ease-in-out;
    }

    .btn-primary:hover {
      background: linear-gradient(90deg, #0d6efd, #20c997);
    }

    label {
      font-weight: 500;
    }
  </style>
</head>
<body>
<div class="container py-4">

  <h2 class="title-page">Services de Vaccination et Nutrition</h2>

  <!-- Informations Patient -->
  <div class="card-form mb-4">
    <div class="row text-center fw-bold">
      <div class="col">Nom</div>
      <div class="col">Prénom</div>
      <div class="col">Âge</div>
      <div class="col">Sexe</div>
    </div>
  </div>

  <!-- Onglets -->
  <ul class="nav nav-tabs" id="patientTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="vaccination-tab" data-bs-toggle="tab" data-bs-target="#vaccination" type="button" role="tab">Vaccination</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="nutrition-tab" data-bs-toggle="tab" data-bs-target="#nutrition" type="button" role="tab">Nutrition</button>
    </li>
  </ul>

  <div class="tab-content p-4 bg-white border border-top-0 rounded-bottom shadow-sm" id="patientTabsContent">

    <!-- Onglet Vaccination -->
    <div class="tab-pane fade show active" id="vaccination" role="tabpanel">
      <form method="post">
        {% csrf_token %}
        <div class="card-form">
          <h3>Constantes</h3>
          <div class="row mb-3">
            <div class="col"><input type="date" name="date" class="form-control" value="{{ today }}"></div>
            <div class="col"><input type="text" name="taille" class="form-control" placeholder="Taille (cm)"></div>
            <div class="col"><input type="text" name="poids" class="form-control" placeholder="Poids (kg)"></div>
            <div class="col"><input type="text" name="brachial" class="form-control" placeholder="Périmètre brachial"></div>
            <div class="col"><input type="text" name="imc" class="form-control" placeholder="IMC"></div>
            <div class="col"><input type="text" name="indice" class="form-control" placeholder="Indice corporel"></div>
          </div>
        </div>

        <div class="card-form">
          <h3>Vaccins</h3>
          <div class="row">
            <div class="col-md-4">
              <label><input type="checkbox" name="vaccin" value="BCG"> BCG</label><br>
              <label><input type="checkbox" name="vaccin" value="Polio 0"> Polio 0</label><br>
              <label><input type="checkbox" name="vaccin" value="VPO-1"> VPO-1</label><br>
              <!-- … -->
            </div>
            <!-- Col 2 et Col 3 idem -->
          </div>
        </div>

        <div class="card-form">
          <h3>Autres services</h3>
          <div class="row">
            <div class="col-md-4">
              <label>Dépisté ?</label><br>
              <label><input type="radio" name="depistage"> Oui</label>
              <label><input type="radio" name="depistage"> Non</label><br>
              <input type="text" class="form-control mt-2" name="codedepistage" placeholder="Code de dépistage">
              <label class="mt-3">Résultat de dépistage</label><br>
              <label><input type="radio" name="resutatdepistage"> Positif</label>
              <label><input type="radio" name="resutatdepistage"> Négatif</label>
            </div>
            <div class="col-md-4">
              <label><input type="checkbox" name="lait" value="lait"> Lait</label><br>
              <label><input type="checkbox" name="deparasitant" value="Déparasitant"> Déparasitant</label><br>
              <label><input type="checkbox" name="plumpynut" value="plumpynut"> Plumpy Nut</label><br>
              <label><input type="checkbox" name="vitamine100" value="ViTa100"> Vitamine A100</label><br>
              <label><input type="checkbox" name="vitamine200" value="ViTa200"> Vitamine A200</label><br>
            </div>
          </div>
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-primary mt-3">Enregistrer</button>
        </div>
      </form>
    </div>

    <!-- Onglet Nutrition -->
    <div class="tab-pane fade" id="nutrition" role="tabpanel">
      <form method="post">
        {% csrf_token %}
        <div class="card-form">
          <h3>Constantes</h3>
          <div class="row mb-3">
            <div class="col"><input type="date" name="date" class="form-control" value="{{ today }}"></div>
            <div class="col"><input type="text" name="taille" class="form-control" placeholder="Taille (cm)"></div>
            <div class="col"><input type="text" name="poids" class="form-control" placeholder="Poids (kg)"></div>
            <div class="col"><input type="text" name="brachial" class="form-control" placeholder="Périmètre brachial"></div>
            <div class="col"><input type="text" name="imc" class="form-control" placeholder="IMC"></div>
            <div class="col"><input type="text" name="indice" class="form-control" placeholder="Indice corporel"></div>
          </div>
        </div>

        <div class="card-form">
          <h3>Nutrition</h3>
          <div class="row mb-3">
            <div class="col">
              <label>Code unique patient</label>
              <input type="text" name="codeunique" class="form-control" value="{{code_unique}}">
            </div>
            <div class="col">
              <label>Date d'admission</label>
              <input type="date" name="dateadmission" class="form-control">
            </div>
            <div class="col">
              <label>Date de sortie</label>
              <input type="date" name="datesortie" class="form-control">
            </div>
            <div class="col">
              <label>État nutritionnel</label>
              <select name="statutnutri" class="form-select">
                <option value="" selected></option>
                <option value="normal">Normal</option>
                <option value="mam">Malnutri aigu modéré</option>
                <option value="mas">Malnutri aigu sévère sans complication</option>
                <option value="masc">Malnutri aigu sévère avec complication</option>
                <option value="retardCroi">Retard de croissance</option>
                <option value="obesite">Obésité</option>
              </select>
            </div>
            <div class="col">
              <label>Date prochain RDV</label>
              <input type="date" name="daterdv" class="form-control">
            </div>
          </div>
        </div>

        <div class="card-form">
          <h3>Autres services</h3>
          <div class="row">
            <div class="col-md-4">
              <label>Dépisté ?</label><br>
              <label><input type="radio" name="depistage"> Oui</label>
              <label><input type="radio" name="depistage"> Non</label><br>
              <input type="text" class="form-control mt-2" name="codedepistage" placeholder="Code de dépistage">
              <label class="mt-3">Résultat de dépistage</label><br>
              <label><input type="radio" name="resutatdepistage"> Positif</label>
              <label><input type="radio" name="resutatdepistage"> Négatif</label>
            </div>
            <div class="col-md-4">
              <label><input type="checkbox" name="lait" value="lait"> Lait</label><br>
              <label><input type="checkbox" name="deparasitant" value="Déparasitant"> Déparasitant</label><br>
              <label><input type="checkbox" name="plumpynut" value="plumpynut"> Plumpy Nut</label><br>
              <label><input type="checkbox" name="vitamine100" value="ViTa100"> Vitamine A100</label><br>
              <label><input type="checkbox" name="vitamine200" value="ViTa200"> Vitamine A200</label><br>
            </div>
          </div>
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-primary mt-3">Enregistrer</button>
        </div>
      </form>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
